<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carbon Footprint Calculator | Soular</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#40a2ff',
                        secondary: '#ff2941',
                        darkbg: '#181818',
                        darkcard: '#2A2A2A'
                    }
                }
            }
        };

        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <style>
        .loader {
            border-top-color: #5D5CDE;
            animation: spinner 1.5s linear infinite;
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .carbon-gauge {
            transition: width 1s ease-in-out;
        }
    </style>
</head>
<body class="bg-white dark:bg-darkbg text-gray-900 dark:text-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [user, setUser] = useState({
                name: "Guest User",
                points: 240,
                level: 3,
                footprint: 8.2,
                actions: 12,
                avatar: "https://i.imgur.com/HYsTHOF.png"
            });
            const [footprintData, setFootprintData] = useState({
                transport: 3,
                food: 2.5,
                energy: 1.7,
                goods: 1
            });
            const [showModal, setShowModal] = useState(false);
            const [modalContent, setModalContent] = useState("");

            const calculateFootprint = () => {
                return Object.values(footprintData).reduce((a, b) => a + b, 0);
            };

            const updateFootprint = (category, value) => {
                setFootprintData(prev => {
                    const newData = {...prev, [category]: parseFloat(value)};
                    const total = Object.values(newData).reduce((a, b) => a + b, 0);
                    setUser(prev => ({...prev, footprint: total}));
                    return newData;
                });
            };

            const generateRecommendations = (footprint) => {
                if (footprint > 10) {
                    return [
                        "Consider using public transportation more frequently",
                        "Reduce meat consumption to 2-3 times per week",
                        "Switch to energy-efficient appliances",
                        "Improve home insulation to reduce heating/cooling needs"
                    ];
                } else if (footprint > 5) {
                    return [
                        "Try carpooling or biking for shorter commutes",
                        "Consider a partially plant-based diet",
                        "Install smart thermostats or timers",
                        "Reduce air travel when possible"
                    ];
                } else {
                    return [
                        "Great job! Consider volunteering for local environmental initiatives",
                        "Look into community solar projects",
                        "Share your sustainable practices with friends and family",
                        "Explore zero-waste shopping options"
                    ];
                }
            };

            return (
                <div className="max-w-3xl mx-auto px-4 py-6">
                    <header className="flex items-center justify-between mb-6">
                        <div className="flex items-center">
                            <span className="text-primary text-4xl mr-2">ðŸŒ±</span>
                            <h1 className="text-2xl font-bold">Carbon Footprint Calculator</h1>
                        </div>
                    </header>
                    
                    <main>
                        <div className="space-y-6">
                            <div className="bg-white dark:bg-darkcard rounded-lg shadow p-4">
                                <h2 className="text-xl font-bold mb-4">Your Carbon Footprint</h2>
                                <div className="flex flex-col md:flex-row gap-4 items-center">
                                    <div className="w-full md:w-1/2">
                                        <div className="relative pt-1">
                                            <p className="text-sm font-medium mb-1">Transportation <span className="float-right">{footprintData.transport} tons</span></p>
                                            <input 
                                                type="range" 
                                                min="0" 
                                                max="10" 
                                                step="0.1" 
                                                value={footprintData.transport} 
                                                onChange={(e) => updateFootprint("transport", e.target.value)}
                                                className="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                            />
                                        </div>
                                        <div className="relative pt-4">
                                            <p className="text-sm font-medium mb-1">Food & Diet <span className="float-right">{footprintData.food} tons</span></p>
                                            <input 
                                                type="range" 
                                                min="0" 
                                                max="7" 
                                                step="0.1" 
                                                value={footprintData.food} 
                                                onChange={(e) => updateFootprint("food", e.target.value)}
                                                className="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                            />
                                        </div>
                                        <div className="relative pt-4">
                                            <p className="text-sm font-medium mb-1">Home Energy <span className="float-right">{footprintData.energy} tons</span></p>
                                            <input 
                                                type="range" 
                                                min="0" 
                                                max="5" 
                                                step="0.1" 
                                                value={footprintData.energy} 
                                                onChange={(e) => updateFootprint("energy", e.target.value)}
                                                className="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                            />
                                        </div>
                                        <div className="relative pt-4">
                                            <p className="text-sm font-medium mb-1">Goods & Services <span className="float-right">{footprintData.goods} tons</span></p>
                                            <input 
                                                type="range" 
                                                min="0" 
                                                max="4" 
                                                step="0.1" 
                                                value={footprintData.goods} 
                                                onChange={(e) => updateFootprint("goods", e.target.value)}
                                                className="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                            />
                                        </div>
                                    </div>
                                    <div className="w-full md:w-1/2 flex flex-col items-center">
                                        <div className="text-center mb-2">
                                            <span className="text-3xl font-bold">{calculateFootprint().toFixed(1)}</span>
                                            <span className="text-xl ml-1">tons COâ‚‚e</span>
                                        </div>
                                        <div className="w-40 h-40 rounded-full border-8 border-gray-200 dark:border-gray-700 relative flex items-center justify-center">
                                            <div className="absolute inset-0 overflow-hidden rounded-full">
                                                <div 
                                                    className="carbon-gauge absolute bottom-0 left-0 right-0 bg-gradient-to-t from-red-500 via-yellow-400 to-green-400" 
                                                    style={{height: `${Math.min(100, (calculateFootprint() / 15) * 100)}%`}}
                                                ></div>
                                            </div>
                                            <div className="relative z-10 text-center">
                                                <p className="text-sm font-medium">Your Impact</p>
                                                {calculateFootprint() > 10 ? (
                                                    <p className="text-xs text-red-500">High</p>
                                                ) : calculateFootprint() > 5 ? (
                                                    <p className="text-xs text-yellow-500">Medium</p>
                                                ) : (
                                                    <p className="text-xs text-green-500">Low</p>
                                                )}
                                            </div>
                                        </div>
                                        <p className="text-xs text-gray-500 dark:text-gray-400 mt-2">Global average: 4.8 tons</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-white dark:bg-darkcard rounded-lg shadow p-4">
                                <h2 className="text-xl font-bold mb-4">Personal Recommendations</h2>
                                <div className="space-y-3">
                                    {generateRecommendations(calculateFootprint()).map((rec, i) => (
                                        <div key={i} className="p-3 border border-gray-200 dark:border-gray-700 rounded-lg flex items-start">
                                            <span className="mr-3 text-green-500 text-xl">âœ“</span>
                                            <p>{rec}</p>
                                        </div>
                                    ))}
                                </div>
                                <button 
                                    className="mt-6 bg-primary text-white rounded-lg px-4 py-2 w-full font-medium hover:bg-opacity-90 transition"
                                    onClick={() => {
                                        setUser(prev => ({
                                            ...prev, 
                                            points: prev.points + 50,
                                            actions: prev.actions + 1
                                        }));
                                        setModalContent("ðŸŽ‰ Commitment registered! +50 points");
                                        setShowModal(true);
                                        setTimeout(() => setShowModal(false), 2000);
                                    }}
                                >
                                    Commit to These Actions
                                </button>
                            </div>
                        </div>
                    </main>
                    
                    {showModal && (
                        <div className="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white rounded-lg py-2 px-4 shadow-lg">
                            {modalContent}
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(
            <App />,
            document.getElementById('root')
        );
    </script>
</body>
</html>
``` 
